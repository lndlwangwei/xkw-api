eureka:
  instance:
    prefer-ip-address: true
  client:
    serviceUrl:
      defaultZone: http://10.1.23.147:8761/eureka/

#  instance:
#    instance-id: ${spring.application.name}:${random.int}
spring:
#  profiles:
#    active: node1
  application:
    name: xkw-api-gateway
  datasource:
    url: jdbc:mysql://10.1.23.147:3306/xkw_gateway?useSSL=false&characterEncoding=utf-8
    username: root
    password: root
  jpa:
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQL5InnoDBDialect
  cloud:
    gateway:
      routes:
      - id: route_qbs
        uri: http://localhost:8084
        predicates:
        - Path=/qbm/**
        filters:
        - name: RequestRateLimiter
          args:
            redis-rate-limiter.replenishRate: 10000
            redis-rate-limiter.burstCapacity: 10000
      - id: route_mdm
        uri: http://localhost:8081
        predicates:
        - Path=/master/**
        filters:
        - name: RequestRateLimiter
          args:
            redis-rate-limiter.replenishRate: 10000
            redis-rate-limiter.burstCapacity: 10000

#    添加对springcloud gateway的监控
management:
  endpoint:
    gateway:
      enabled: true
    shutdown:
      enabled: true
  endpoints:
    web:
      exposure:
        include: "*"
server:
  port: 8070
